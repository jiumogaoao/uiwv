<html ng-app="app" ng-controller="controller" style="height: {{getH}}px;">
    <head>
        <meta charset="utf-8">
            <meta name="format-detection" content="telephone=no">
                <meta name="msapplication-tap-highlight" content="no">
                    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
                        <title></title>
                            <link href="css/main.css" rel="stylesheet" rev="stylesheet" type="text/css">
                            <link rel="stylesheet" href="font/iconfont.css">
                                <script type="text/javascript" src="js/angular.min.js"></script>
                                <script type="text/javascript" src="js/angular-touch.min.js"></script>
                                <style type="text/css">
                                		.space{
                                			width: 1px;
                                			height: 1px;
                                		}
                                        #main{
                                            height:88px;
                                            width:100%;
                                            background-color:#fff;
                                        }
                                .left{
                                    float:left;
                                    width:690px;
                                    height:88px;
                                    position:relative;
                                    overflow:hidden;
                                }
                                .leftRoll{
                                    -webkit-transform: translateX({{Roll*186}}px);
                                       -moz-transform: translateX({{Roll*186}}px);
                                        -ms-transform: translateX({{Roll*186}}px);
                                         -o-transform: translateX({{Roll*186}}px);
                                            transform: translateX({{Roll*186}}px);
                                    width:{{data.length*186}}px;
                                    height:88px;
                                    position:absolute;
                                    top:0px;
                                    left:0px;
                                    overflow: hidden;
                                    transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1);
                                    transition-duration: 300ms;
                                }
                                
                                .nav{
                                    width:156px;
                                    height:88px;
                                    float:left;
                                    text-align:center;
                                    line-height:88px;
                                    margin-left:30px;
                                    font-size:30px;
                                }
                                .right{
                                    float:left;
                                    width:60px;
                                    height:88px;
                                    line-height: 98px;
                                    color: #5b99ec;
                                    font-size: 36px;
                                }
                                #maskLeft{
                                    position: absolute;
                                    top: 0px;
                                    left: 0px;
                                    z-index: 3;
                                }
                                #maskRight{
                                    position: absolute;
                                    top: 0px;
                                    right: 0px;
                                    z-index: 3;
                                }
                                .hl{
                                    width: 157px;
                                    height: 6px;
                                    border-radius: 6px;
                                    background-color: #5b99ec;
                                    position: absolute;
                                    left: 30px;
                                    bottom: 0px;
                                    transition-timing-function: cubic-bezier(0.1, 0.57, 0.1, 1);
                                    transition-duration: 300ms;
                                    -webkit-transform: translateX({{hl*186}}px);
                                       -moz-transform: translateX({{hl*186}}px);
                                        -ms-transform: translateX({{hl*186}}px);
                                         -o-transform: translateX({{hl*186}}px);
                                            transform: translateX({{hl*186}}px); 
                                }
                                </style>
    </head>
    <body style="height: {{getH}}px;">
        <div id="all" style="-webkit-transform:scale({{scale}});transform:scale({{scale}});">
            <div id="main">
            	<div class="space"></div>
            	<div class="left" ng-swipe-left="rollLeft()"  ng-swipe-right="rollRight()">
                    <img src="images/navLeft.png" id="maskLeft"/>
                    <img src="images/navRight.png" id="maskRight"/>
                    <div class="leftRoll">
                        <div class="nav" ng-repeat="n in data track by $index" ng-click="changeHl($index)">冠心病</div>
                        <div class="hl"></div>
                    </div>
                </div>
                <div class="right iconfont">&#xe658;</div>
                
            </div>
        </div>
        <div class="clear"></div>
        <script type="text/javascript">
            angular.module('app', ['ngTouch']).controller('controller', ['$scope','$window','$timeout',function($scope,$window,$timeout,$swipe) {
                //自适应用
                $scope.scale = $window.innerWidth/750;
                $window.onresize=function(){
                   $scope.scale = $window.innerWidth/750;
                    $scope.getH = document.getElementById('all').clientHeight*$scope.scale;
                    $scope.$apply();
                }
                $scope.hl=0;
                $scope.changeHl=function(index){
                    console.log(index)
                    $scope.hl=index;
                }
                $scope.Roll=0;
                $scope.rollLeft=function(){
                    if($scope.Roll>-($scope.data.length-3)){
                        $scope.Roll--;
                    }
                }
                $scope.rollRight=function(){
                    if($scope.Roll<=-1){
                        $scope.Roll++;
                    }
                }
                //数据
                $scope.data=[{id:"001",name:"冠心病"},{id:"002",name:"冠心病"},{id:"003",name:"冠心病"},{id:"004",name:"冠心病"},{id:"005",name:"冠心病"},{id:"006",name:"冠心病"},{id:"007",name:"冠心病"},{id:"008",name:"冠心病"},{id:"009",name:"冠心病"},{id:"010",name:"冠心病"},{id:"011",name:"冠心病"},{id:"011",name:"冠心病"}];
                $timeout(function(){
                   $scope.getH = document.getElementById('all').clientHeight*$scope.scale; 
                },300);
            }]);

        </script>
    </body>
</html>
